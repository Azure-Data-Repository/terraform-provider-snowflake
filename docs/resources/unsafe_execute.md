---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "snowflake_unsafe_execute Resource - terraform-provider-snowflake"
subcategory: ""
description: |-
  Experimental resource used for testing purposes only. Allows to execute ANY SQL statement.
---

# snowflake_unsafe_execute (Resource)

!> **Warning** This is a dangerous resource that allows executing **ANY** SQL statement. It may destroy resources if used incorrectly. It may behave incorrectly combined with other resources. Will be deleted in the upcoming versions. Use at your own risk.

Experimental resource used for testing purposes only. Allows to execute ANY SQL statement.

## Example Usage

```terraform
# create and destroy resource
resource "snowflake_unsafe_execute" "test" {
  execute = "CREATE DATABASE ABC"
  revert  = "DROP DATABASE ABC"
}

# create and destroy resource using qualified name
resource "snowflake_unsafe_execute" "test" {
  execute = "CREATE DATABASE \"abc\""
  revert  = "DROP DATABASE \"abc\""
}

# grant and revoke privilege USAGE to ROLE on database
resource "snowflake_unsafe_execute" "test" {
  execute = "GRANT USAGE ON DATABASE ABC TO ROLE XYZ"
  revert  = "REVOKE USAGE ON DATABASE ABC FROM ROLE XYZ"
}

# grant and revoke with for_each
variable "database_grants" {
  type = list(object({
    database_name = string
    role_id       = string
    privileges    = list(string)
  }))
}

resource "snowflake_unsafe_execute" "test" {
  for_each = { for index, db_grant in var.database_grants : index => db_grant }
  execute  = "GRANT ${join(",", each.value.privileges)} ON DATABASE ${each.value.database_name} TO ROLE ${each.value.role_id}"
  revert   = "REVOKE ${join(",", each.value.privileges)} ON DATABASE ${each.value.database_name} FROM ROLE ${each.value.role_id}"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `execute` (String) SQL statement to execute.
- `revert` (String) SQL statement to revert the execute statement. Invoked when resource is deleted.

### Read-Only

- `id` (String) The ID of this resource.
